<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservacion</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <h2>Reservacion</h2>

    <div class="layout-container" id="info-materias">
        <!-- Left Row Labels (vertical column) -->
        <div class="row-labels-column" id="left-row-labels">
            <div class="empty-space" ></div> <!-- Empty space to align row labels with seats -->
        </div>

        <!-- Sections container (left, middle, right) -->
        <div>
            <!-- Left Section -->
            <div class="section" id="left-section"></div>

            <!-- Middle Section -->
            <div class="section" id="middle-section"></div>

            <!-- Right Section -->
            <div class="section" id="right-section"></div>
        </div>

        <!-- Right Row Labels (vertical column) -->
        <div class="row-labels-column" id="right-row-labels">
            <div class="empty-space"></div> <!-- Empty space to align row labels with seats -->
        </div>
    </div>

    <!-- Button to book selected seats -->
    <button id="book-seats">Book Selected Seats</button>


    <ul class='custom-menu'>
        <li data-action="inhabilitado">Eliminar</li>
        <li data-action="details">Ver detalles</li>
    </ul>
    <script src="/script.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
    $(document).ready(function(){
        var materiaSeleccionada;
        $( '#info-materias td' ).on("contextmenu", function(event) {
          event.preventDefault();
          $('.custom-menu').toggle(100).css({
              top: event.pageY + "px",
              left: event.pageX + "px"
          });
          //Selecciono donde di clic para ejecutar una accion despues
          materiaSeleccionada = $(this);
        });
        
        
        $(".custom-menu li").click(function(){
          let action = $(this).attr('data-action');
          
          switch(action) {
              case "delete":
                $(materiaSeleccionada).remove();
              break;
              case "details":
                let nombreMateria = materiaSeleccionada.first().text();
                alert("Detalles de la materia " + nombreMateria);
              break;
          }
          // Esconder el menu después de la ejecución
          $(".custom-menu").hide(100);
        });
        
        $(document).on("mousedown", function (e) {    
          // Si no se da clic al menu contextual
          if (!$(e.target).parents(".custom-menu").length > 0) {
              // Escondelo
              $(".custom-menu").hide(100);
          }
        });
      
      });
      </script>

</body>

</html>